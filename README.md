# SIPI_9-10
# ðŸ  Flat Analytics & Price Prediction API

## ðŸ“Œ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

Ð­Ñ‚Ð¾ REST API-ÑÐµÑ€Ð²Ð¸Ñ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ñ Ñ†ÐµÐ½ Ð½Ð° ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼ Ð¸ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸. ÐŸÑ€Ð¾ÐµÐºÑ‚ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Flask Ð¸ Flask-RESTX (Ð°Ð²Ñ‚Ð¾Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Swagger-Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸), Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ¸ Ð¸ Ð¿Ñ€ÐµÐ´Ð¸ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°.

---

## ðŸš€ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»

- ðŸ”® ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ Ñ†ÐµÐ½Ñ‹ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸Ðº
- ðŸ” ÐŸÐ¾Ð¸ÑÐº Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð² Ð¿Ð¾ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ð¼
- ðŸ“Š Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð²
- ðŸ§© Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ REST API
- ðŸ§ª Swagger UI Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸Ñ API
- ðŸ’¡ ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð´Ð»Ñ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ

---

## ðŸ“‚ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
â”œâ”€â”€ app.py               # ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Flask API
â”œâ”€â”€ streamlit_app.py     # (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Streamlit
â”œâ”€â”€ models/              # ML-Ð¼Ð¾Ð´ÐµÐ»Ð¸ (ÐµÑÐ»Ð¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹)
â”œâ”€â”€ utils/               # Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°: Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ñ, Ð¿Ð¾Ð¸ÑÐº, Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°
â”œâ”€â”€ requirements.txt     # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
â”œâ”€â”€ README.md            # Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
```

---

## ðŸ› ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº

### ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

```bash
pip install -r requirements.txt
```

### â–¶ï¸ Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²ÐµÑ€Ð°

```bash
python app.py
```

Swagger UI Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ:  
[http://localhost:5000/](http://localhost:5000/)

---

## ðŸ”Œ API Ð­Ð½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ñ‹

### ðŸ“ˆ `POST /predict`

ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ Ñ†ÐµÐ½Ñ‹ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹

**Ð¢ÐµÐ»Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° (JSON):**
```json
{
  "level": 3,
  "levels": 9,
  "rooms": 2,
  "area": 48.0,
  "kitchen_area": 10.0,
  "building_type": 1,
  "object_type": 2,
  "region_id": 101
}
```

**ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð°:**
```json
{
  "estimation": 145000.0,
  "+/-2": 10000.0,
  "mape": 12.5
}
```

---

### ðŸ” `POST /search`

ÐŸÐ¾Ð¸ÑÐº ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€ Ð¿Ð¾ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ð¼

**Ð¢ÐµÐ»Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°:**
```json
{
  "features_name": ["rooms", "area"],
  "conditions": [">=", "<="],
  "value": [2, 60.0]
}
```

**ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð°:**
```json
{
  "level": [1, 2],
  "levels": [5, 10],
  "rooms": [2, 3],
  "area": [45.5, 60.0],
  "kitchen_area": [10.0, 12.5],
  "building_type": [1],
  "object_type": [2],
  "region_id": [101]
}
```

---

### ðŸ“Š `POST /visualize`

Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÑƒ

**Ð¢ÐµÐ»Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°:**
```json
{
  "feature_name": "area"
}
```

**ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ð²ÐµÑ‚Ð°:**
```json
{
  "feature": [5, 15, 25, 35]
}
```

---

## ðŸ§  ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²

| ÐšÐ»Ð°ÑÑ                | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ                                                                 |
|----------------------|----------------------------------------------------------------------------|
| `PricePredictionModel` | Ð—Ð°Ð³Ð»ÑƒÑˆÐºÐ° Ð¼Ð¾Ð´ÐµÐ»Ð¸. Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ               |
| `FlatPredictionData`   | ÐŸÑ€ÐµÐ¿Ñ€Ð¾Ñ†ÐµÑÑÐ¸Ð½Ð³ Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…                                          |
| `FlatSearchData`       | Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€ Ð¿Ð¾ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¼ ÑƒÑÐ»Ð¾Ð²Ð¸ÑÐ¼                                   |
| `FlatAnalytics`        | Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¸ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼                                           |
| `Database`             | Ð—Ð°Ð³Ð»ÑƒÑˆÐºÐ° Ð‘Ð” â€” Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¸ SQL-Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸    |

---

## ðŸ“Š Swagger UI

Swagger Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ `app.py`.  
ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ API, Ð²Ð¸Ð´ÐµÑ‚ÑŒ ÑÑ…ÐµÐ¼Ñ‹ Ð²Ñ…Ð¾Ð´Ð¾Ð²/Ð²Ñ‹Ñ…Ð¾Ð´Ð¾Ð² Ð¸ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ curl-Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹.

---

## ðŸŽ¯ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ

- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¹ ML-Ð¼Ð¾Ð´ÐµÐ»Ð¸
- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð½Ð°ÑÑ‚Ð¾ÑÑ‰ÐµÐ¹ Ð‘Ð”
- Streamlit-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
- ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- ÐšÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

---

## ðŸ™‹ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº: *[Gen Shen]*  
Email: `genshen@gmail.com`
